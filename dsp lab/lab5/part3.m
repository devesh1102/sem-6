%syms z

%eqn =  (49 +79*(1/z) +49* (z^-2))/(100+ 50*(z^-1)+ 40*(z^-2));
H = tf([10000 -12728 8100],[100 -160 64]);
figure(1)
pzmap(H)
grid on
num =[10000 -12728 8100];
den = [100 -160 64];
[h,f,w] = freqz(num,den,'whole',2001);
freqzplot(h,f,w);
title('for H2');
figure(2)
fpass = 0.04398
%plot(w/pi,20*log10(abs(h)))
% ax = gca;
% ax.YLim = [-100 20];
% ax.XTick = 0:.5:2;
xlabel('Normalized Frequency (\times\pi rad/sample)')
ylabel('Magnitude (dB)')
figure (3)
bode(tf ([1],[1 5 6]))
grid on
freqzplot(h,f,w);
title('for H2');
%Fpass

num2 =[10000 -12000 8100];
den2 = [100 -160 60];
[h2,f2,w2] = freqz(num2,den2,'whole',2001);
figure (4)
freqzplot(h2,f2,w2);
title('for H3');


% Fpass_h2 = 0.04498
% Fstop_h2 = 0.1599//20 db fall
% Fstop_h2 = 0.1899//25 db fall

% Fpass_h3 = 0.04398
% Fstop_h3 = 0.1619//20 db fall
%Fstop_h3 = 0.1909//25 db fall

%num_h4 = [-0.000919098208468256,-0.00271769602659550,-0.00248695275983231,0.00366143838350709,0.0136509252306624,0.0173511659010933,0.00766530619042168,-0.00655471886964240,-0.00769678403706536,0.00610545942139436,0.0138739157486354,0.000350861728290910,-0.0169089254366905,-0.00890564274915868,0.0174411295008549,0.0207450445276099,-0.0122964942519403,-0.0342408659095784,-0.00103452960557240,0.0477903055208015,0.0273630379148480,-0.0593795188310466,-0.0823070259292291,0.0671869094328705,0.310015177090251,0.430047880343517,0.310015177090251,0.0671869094328705,-0.0823070259292291,-0.0593795188310466,0.0273630379148480,0.0477903055208015,-0.00103452960557240,-0.0342408659095784,-0.0122964942519403,0.0207450445276099,0.0174411295008549,-0.00890564274915868,-0.0169089254366905,0.000350861728290910,0.0138739157486354,0.00610545942139436,-0.00769678403706536,-0.00655471886964240,0.00766530619042168,0.0173511659010933,0.0136509252306624,0.00366143838350709,-0.00248695275983231,-0.00271769602659550,-0.000919098208468256]
%Num22 = [0.000286348672583389,0.00298648674836307,0.0110963469599803,0.0282645201341164,0.0561598164842585,0.0923462837269394,0.129602580057247,0.157911457730754,0.168508505863988,0.157911457730754,0.129602580057247,0.0923462837269394,0.0561598164842585,0.0282645201341164,0.0110963469599803,0.00298648674836307,0.000286348672583389]
%Num22 = [-0.000179463121861602,-0.000110921492026009,7.07886738714596e-05,0.000598163903781725,0.00168817470930001,0.00359113533250038,0.00656007352261085,0.0108122419967457,0.0164824634419626,0.0235814452907573,0.0319628142603418,0.0413089500911409,0.0511392677204148,0.0608443620264985,0.0697424605436330,0.0771522772278767,0.0824717549502490,0.0852515385362416,0.0852515385362416,0.0824717549502490,0.0771522772278767,0.0697424605436330,0.0608443620264985,0.0511392677204148,0.0413089500911409,0.0319628142603418,0.0235814452907573,0.0164824634419626,0.0108122419967457,0.00656007352261085,0.00359113533250038,0.00168817470930001,0.000598163903781725,7.07886738714596e-05,-0.000110921492026009,-0.000179463121861602]
num_h4 =Num22
[h4,f4,w4] = freqz(num_h4);
figure (5)
freqzplot(h4,f4,w4);
title('for H4');


num_h5=num_h4*(num_h4(1)^(-1))
Num_single_digit=(round(num_h5*10))/10.

[h5,f5,w5] = freqz(Num_single_digit);
figure (6)
freqzplot(h5,f5,w5);
title('for H5');
input = [0 0 10 20 -10 0 30 40 10 10 20 -10 0 30 40 10]
den = [ 100 50  40]
num = [49 79 49] 
[h44,f44,w44] =  freqz(num,den,'whole',2001);
figure (5)
freqzplot(h44,f44,w44);
title('for H4');
filter(num,den,input)